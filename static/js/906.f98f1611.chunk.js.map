{"version":3,"file":"static/js/906.f98f1611.chunk.js","mappings":"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","sources":["webpack://workout/./src/components/NotFound/notFound.module.scss?65a4","components/NotFound/NotFound.jsx","webpack://workout/./src/components/styled/search.module.scss?98bc","pages/Search.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"notfound\":\"notFound_notfound__kFEWF\"};","import styles from \"./notFound.module.scss\";\n\nconst NotFound = ({ text }) => {\n  return (\n    <div className={styles.notfound}>\n      <p>{text}</p>\n    </div>\n  );\n};\nexport default NotFound;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"search_container__pes1o\",\"search\":\"search_search__mrQCm\",\"search__input\":\"search_search__input__kz-8x\",\"search__btn\":\"search_search__btn__sjknB\",\"search__svg\":\"search_search__svg__d3LIO\"};","// import Search from \"../components/Search/Search\";\nimport { useEffect, useState } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { useNavigate } from \"react-router\";\nimport { getSearchedMovies } from \"../services/fetchMovies\";\nimport { CiSearch } from \"react-icons/ci\";\nimport NotFound from \"../components/NotFound/NotFound\";\nimport PostersList from \"../components/PostersList/PostersList\";\nimport Paginator from \"../components/Paginator/Paginator\";\nimport styles from \"../components/styled/search.module.scss\";\nimport Loader from \"../components/Loader/Loader\";\n\nconst Search = () => {\n  const navigate = useNavigate();\n\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const [query, setQuery] = useState(\"\");\n  const [movies, setMovies] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const query = searchParams.get(\"query\") ?? \"\";\n    if (!query) return;\n    const fetchSearchedMovies = async () => {\n      try {\n        const searchedMovies = await getSearchedMovies(query, currentPage);\n        setMovies(searchedMovies.results);\n        setTotalPages(searchedMovies.total_pages);\n        setIsLoading(true);\n        console.log(searchedMovies);\n        // setIsLoading(false);\n      } catch (error) {\n        console.log(error);\n        setSearchParams(\"\");\n      }\n    };\n    fetchSearchedMovies();\n    setIsLoading(false);\n  }, [searchParams, setSearchParams, currentPage]);\n\n  const handleChange = (e) => {\n    setQuery(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    navigate(`/search?query=${query}`);\n    async function fetchSearchedMovies() {\n      try {\n        const searchedMovies = await getSearchedMovies(query, currentPage);\n        setMovies(searchedMovies.results);\n        setTotalPages(searchedMovies.total_pages);\n      } catch (error) {\n        console.log(error);\n        setSearchParams(\"\");\n      }\n    }\n    fetchSearchedMovies();\n  };\n\n  const handlePageChange = (event, page) => {\n    setCurrentPage(page);\n  };\n\n  return (\n    <div className={styles.container}>\n      <form className={styles.search} action=\"submit\" onSubmit={handleSubmit}>\n        <input\n          className={styles.search__input}\n          type=\"text\"\n          onChange={handleChange}\n        />\n        <button className={styles.search__btn}>\n          <CiSearch className={styles.search__svg} size={22} />\n        </button>\n      </form>\n      <div className={styles.wrapper}>\n        {movies.length === 0 && <NotFound text=\"Search by key-word\" />}\n        {isLoading && <Loader />}\n        {movies.length > 0 && (\n          <div>\n            <PostersList movies={movies} />\n            <Paginator\n              count={totalPages}\n              currentPage={currentPage}\n              handlePageChange={handlePageChange}\n            />\n          </div>\n        )}\n        {/* {movies.length > 0 ? (\n          <Loader />\n        ) : (\n          <div>\n            <PostersList movies={movies} />\n            <Paginator\n              count={totalPages}\n              currentPage={currentPage}\n              handlePageChange={handlePageChange}\n            />\n          </div>\n        )} */}\n      </div>\n    </div>\n  );\n};\n\nexport default Search;\n"],"names":["_ref","text","_jsx","className","styles","children","navigate","useNavigate","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","_useState","useState","_useState2","query","setQuery","_useState3","_useState4","movies","setMovies","_useState5","_useState6","currentPage","setCurrentPage","_useState7","_useState8","totalPages","setTotalPages","_useState9","_useState10","isLoading","setIsLoading","useEffect","_searchParams$get","get","fetchSearchedMovies","_asyncToGenerator","_regeneratorRuntime","mark","_callee","searchedMovies","wrap","_context","prev","next","getSearchedMovies","sent","results","total_pages","console","log","t0","stop","apply","arguments","_jsxs","container","search","action","onSubmit","e","_fetchSearchedMovies","_callee2","_context2","preventDefault","concat","search__input","type","onChange","currentTarget","value","toLowerCase","search__btn","CiSearch","search__svg","size","wrapper","length","NotFound","Loader","PostersList","Paginator","count","handlePageChange","event","page"],"sourceRoot":""}